syntax = "proto3";

package proto;

service BlogService {
    rpc Register(RegisterRequest) returns (String);
    rpc Login(LoginRequest) returns (String);
    rpc CreatePost(CreatePostRequest) returns (String);
    rpc GetPost(GetPostRequest) returns (String);
    rpc UpdatePost(UpdatePostRequest) returns (UpdatePostResponse);
    rpc DeletePost(DeletePostRequest) returns (DeletePostResponse);
    rpc ListPosts(ListPostsRequest) returns (ListPostsResponse);
}

message AuthUser {
    String username = 1;
    String email = 2;
    int64 id = 3;
}

message RegisterRequest {
    String username = 1;
    String password = 2;
    String email = 3;
}

message LoginRequest {
    String username = 1;
    String password = 2;
}

message CreatePostRequest {
    AuthUser auth_user = 1;
    String title = 2;
    String content = 3;
}

message GetPostRequest {
    int64 post_id = 1;
}

message UpdatePostRequest {
    AuthUser auth_user = 1;
    String title = 2;
    String content = 3;
}

message UpdatePostResponse {

}

message DeletePostRequest {

}

message DeletePostResponse {
    int64 id = 1;
}

message ListPostsRequest {

}

message ListPostsResponse {

}